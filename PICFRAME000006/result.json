{
   "id": "PICFRAME",
   "build": "PICFRAME000006",
   "pathPrefix": "",
   "updatePage": {
      "type": 1,
      "path": [
         "../index.html"
      ]
   },
   "cssCompressWithout": [],
   "codeCompressWithout": [],
   "tmpCompressWithout": [],
   "jsNoCompress": [],
   "cssNoCompress": [],
   "basePath": "G:/brooder/cpic/src/",
   "packet": "PICFRAME000006/",
   "newPath": "G:/brooder/cpic/PICFRAME000006/",
   "changePages": [
      "G:/brooder/cpic/index.html"
   ],
   "codeCompress": "/*\n * @packet main; \n * @require util.touch;\n * @css style.main;\n * @template template.temp;\n */Module({name:\"picplayer\",extend:\"viewgroup\",className:\"picplayer\",layout:module.getTemplate(\"@temp\",\"picplayer\"),option:{},init:function(){this.addChild({type:\"@.picframe\",container:this.dom}),this._width=this.dom.width()},event_progress:function(t){this.finders(\"loading\").html(\"Loading... \"+t.data+\" %\"),t.stopPropagation()},event_ready:function(){this.finders(\"loading\").remove();var t=this,i=this.getChildAt(0);this.dom.touch(function(e){if(\"down\"===e.action)t._move=!0;else if(\"move\"===e.action){if(\"left\"===e.direction||\"right\"===e.direction){var h=Math.round(e.xis/t._width*i.getFrameSize());i.gotoAndStop(h)}}else t._move=!1})}}),Module({name:\"picframe\",extend:\"view\",className:\"picframe\",template:module.getTemplate(\"@temp\",\"picframe\"),option:{basePath:\"images/fd.\",from:1,to:330,suffix:\"jpg\",type:\"fit\",time:50,autoplay:!1,background:\"black\"},init:function(){this.current=0,this.render();var t=this.finders(\"canvas\").get(0);this._width=this.dom.width(),this._height=this.dom.height(),t.width=this._width,t.height=this._height,this.canvas=t,this.ctx=t.getContext(\"2d\"),this.dom.css(\"background\",this.option.background);var i=this;this.loadPics().done(function(){i.option.autoplay?i.play():i.gotoAndStop(0)})},loadPics:function(){for(var t=this,i=$.promise(),e=[],h=this.option.from;h<=this.option.to;h++){var n=h+\"\",o=\"\";o=1===n.length?\"00\"+h:2===n.length?\"0\"+h:h,e.push(this.option.basePath+o+\".\"+this.option.suffix)}var a=$.queue(),r=[];a.complete(function(){t.images=r,i.resolve(),t.dispatchEvent(\"ready\")}),a.progress(function(i){t.dispatchEvent(\"progress\",Math.round(i.runed/i.total*100))});for(var h in e)a.add(function(t,i){var e=this;$.loader().image(i,function(){r.push(this),e.next()})},function(){this.next()},e[h]);return a.run(),t.dispatchEvent(\"start\"),i},getFrameSize:function(){return this.images.length},renderFrame:function(){var t=this.images[this.current],i=this.option.type,e=this;if(this.ctx.clearRect(0,0,this._width,this._height),\"fit\"===i){var h,n=0,o=0,a=0;t.width>e._width?(n=e._width,h=t.height/t.width*n,h>e._height&&(h=e._height,n=t.width/t.height*h)):(h=e._height,n=t.width/t.height*h,n>e._width&&(n=e._width,h=t.height/t.width*n)),o=(e._width-n)/2,a=(e._height-h)/2,e.ctx.drawImage(t,o,a,n,h)}else if(\"repeat\"===i){for(var n=e._width,h=e._height,o=0,a=0;;)if(e.ctx.drawImage(t,o,a,t.width,t.height),o+=t.width,o>n){if(a+=t.height,!(h>a))break;o=0}}else if(\"fill\"===i)e.ctx.drawImage(t,0,0,e._width,e._height);else if(\"center\"===i){var n=t.width,h=t.height,o=0,a=0;o=(e._width-n)/2,a=(e._height-h)/2,e.ctx.drawImage(t,o,a,n,h)}this.dispatchEvent(\"enterframe\",this.current)},gotoAndStop:function(t){t>=0&&t<this.images.length&&(this.current=t,this.renderFrame())},gotAndPlay:function(t){this.gotoAndStop(t),this.play()},play:function(){var t=this;this._interval||(this._interval=setInterval(function(){var i=t.current+1;i>=t.images.length&&(i=0),t.current=i,t.renderFrame()},this.option.time))},stop:function(){clearInterval(this._interval),this._interval=!1},event_enterframe:function(t){t.stopPropagation()}});/*\n * @packet option; \n * @require main;\n */Option({name:\"root\",option:{override:{onendinit:function(){this.addChild({type:\"@main.picplayer\"})}}}});/*!\r\n * @packet util.touch;\r\n */var currentTime=function(){return(new Date).getTime()},eventAgent={events:function(){return/AppleWebKit.*Mobile.*/.test(window.navigator.userAgent)?{type:\"mobile\",down:\"touchstart\",move:\"touchmove\",up:\"touchend\"}:{type:\"pc\",down:\"mousedown\",move:\"mousemove\",up:\"mouseup\"}}(),onmove:function(t){return this.dom.bind(eventAgent.events.move,eventAgent._move),this},ondown:function(t){return this.dom.bind(eventAgent.events.down,eventAgent._down),this},onup:function(t){return this.dom.bind(eventAgent.events.up,eventAgent._up),this},type:function(){return eventAgent.events.type},_down:function(t){var i=t.currentTarget.datasets._touch_;t.action=\"down\",i.direction=\"none\",t.direction=i.direction,i.isdown=!0,i.ismove=!1,i.movefirst=!0,i.itime=currentTime(),i.xis=t.touches?t.touches[0].pageX:t.pageX,i.yis=t.touches?t.touches[0].pageY:t.pageY,i.cxis=i.xis,i.cyis=i.yis,t.xis=i.xis,t.yis=i.yis,i._x=i.xis,i._y=i.yis,i._ontouch.call(i.dom,t)},_move:function(t){var i=t.currentTarget.datasets._touch_;if(i.isdown){t.action=\"move\",i.ismove=!0,i.cxis=t.touches?t.touches[0].pageX:t.pageX,i.cyis=t.touches?t.touches[0].pageY:t.pageY,t.xis=i.cxis,t.yis=i.cyis,t.offsetX=i.cxis-i.xis,t.offsetY=i.cyis-i.yis,i.movefirst&&(i.movefirst=!1,Math.abs(t.offsetX)>Math.abs(t.offsetY)?i.oishv=\"h\":i.oishv=\"v\",\"h\"===i.oishv?i.cxis>i.xis?i.odirection=\"right\":i.odirection=\"left\":i.cyis>i.yis?i.odirection=\"bottom\":i.odirection=\"top\");var e=i.cxis-i._x,n=i.cyis-i._y;Math.abs(e)>Math.abs(n)?i.ishv=\"h\":i.ishv=\"v\",\"h\"===i.ishv?i.cxis>i._x?i.direction=\"right\":i.direction=\"left\":i.cyis>i._y?i.direction=\"bottom\":i.direction=\"top\",t.direction=i.direction,t.odirection=i.odirection,i._x=i.cxis,i._y=i.cyis,i._ontouch.call(i.dom,t)}},_up:function(t){var i=t.currentTarget.datasets._touch_;i.isdown&&(t.action=\"up\",i.isdown=!1,t.timeLast=(new Date).getTime()-i.itime,t.offsetY=i.cyis-i.yis,t.offsetX=i.cxis-i.xis,t.ismove=i.ismove,t.xis=i.cxis,t.yis=i.cyis,t.direction=i.direction,t.odirection=i.odirection,i._ontouch.call(i.dom,t),i.ismove=!1)}};$.fn.touch=function(t){if(this.data(\"_touch_\"))return this.data(\"_touch_\");var i=new agent(this,t);return this.data(\"_touch_\",i),i},$.fn.untouch=function(){this.data(\"_touch_\",null),this.unbind(eventAgent.events.up),this.unbind(eventAgent.events.down),this.unbind(eventAgent.events.move)};var agent=function(t,i){return this.dom=t,this._ontouch=i,this.xis=0,this.yis=0,this.cxis=0,this.cyis=0,this.direction=\"\",this.isdown=!1,this.ismove=!1,this.itime=0,this.movefirst=!1,this.ishv=\"h\",this.dom.css({\"-webkit-user-select\":\"none\",\"-webkit-touch-callout\":\"none\",\"-webkit-user-drag\":\"none\",\"-webkit-tap-highlight-color\":\"rgba(0,0,0,0)\"}),eventAgent.ondown.call(this),eventAgent.onmove.call(this),eventAgent.onup.call(this),this};agent.prototype.ontouch=function(t){return this._ontouch=t,this};var onetimeis=!0;$.fn.button=function(t,i,e){var n={propagation:!1};$.extend(n,e);var o=this.data(\"_button_event_\");if(t){var s=this;o||(this.data(\"_button_event_\",t),this.touch(function(e){$(\"body\").find(\"input\").each(function(){$(this).get(0).blur()});var o=s.width()/2,c=o/2,a=2*o,u=a/2,r=s.offset();if(\"down\"===e.action&&n.propagation&&e.stopPropagation(),\"up\"===e.action&&onetimeis&&!e.ismove&&e.timeLast>30){onetimeis=!1,e.stopPropagation(),\"static\"===s.css(\"position\")&&s.css({position:\"relative\",overflow:\"hidden\"});var h=$(\"<div style='position:absolute;left:0;top:0;right:0;bottom:0;background:rgba(250,250,250,.1);'><div style='width:\"+o+\"px;height:\"+o+\"px;position:absolute;left:\"+(e.xis-r.left)+\"px;top:50%;margin-left:-\"+c+\"px;margin-top:-\"+c+\"px;z-index:999999999;background:#B7B2B2;opacity:0.5;-webkit-border-radius:\"+c+\"px'></div></div>\").appendTo(s);setTimeout(function(){h.children(0).transition().all().done(function(){t&&t.call(s,e,i),this.parent().remove()}).scope().css({width:a+\"px\",height:a+\"px\",\"margin-left\":-u+\"px\",\"margin-top\":-u+\"px\",opacity:\"0\",\"-webkit-border-radius\":u+\"px\"}),setTimeout(function(){onetimeis=!0},500)},100)}}))}else o.call(this,null,i)},$.fn.swipeLeft=function(t){return this.touch(function(i){\"up\"===i.action&&(this.find(\"span\").html(i.direction),i.timeLast<200&&\"left\"===i.direction&&t&&t.call(this)),i.preventDefault()}),this},$.fn.swipeRight=function(t){return this.touch(function(i){\"up\"===i.action&&(this.find(\"span\").html(i.direction),i.timeLast<200&&\"right\"===i.direction&&t&&t.call(this)),i.preventDefault()}),this},$.fn.swipeTop=function(){return this.touch(function(t){\"up\"===t.action&&t.timeLast<200&&\"top\"===t.direction&&fn&&fn.call(this),t.preventDefault()}),this},$.fn.swipeBottom=function(){return this.touch(function(t){\"up\"===t.action&&t.timeLast<200&&\"bottom\"===t.direction&&fn&&fn.call(this),t.preventDefault()}),this},$.fn.tap=function(t){return this.touch(function(i){\"up\"===i.action&&!i.ismove&&i.timeLast<200&&t&&t.call(this,i),i.preventDefault(),i.stopPropagation()}),this},$.fn.longTap=function(t){return this.touch(function(i){\"up\"===i.action&&!i.ismove&&i.timeLast>=500&&t&&t.call(this,i),i.preventDefault()}),this},$.fn.doubleTap=function(t){var i=0;return this.touch(function(e){\"down\"===e.action||\"up\"===e.action&&!e.ismove&&e.timeLast<200&&(i++,2===i&&(t&&t.call(this),i=0)),e.preventDefault()}),this};",
   "templateCompress": "<!--[@packet template.temp;]--><!--[picplayer]--><div class=\"picplayer-loading\" data-find='loading'>Loading... 0 %</div><!--[picframe]--><canvas data-find='canvas'></canvas>\r\n",
   "cssCompress": "/** * @packet style.main; */body,html{margin:0;padding:0;overflow:hidden}.picplayer{position:absolute;left:0;top:0;right:0;bottom:0}.picplayer .picplayer-loading{position:absolute;left:50%;top:50%;width:150px;text-align:center;color:white;margin-left:-75px;font-size:12px;z-index:999999999}.picframe{position:absolute;left:0;top:0;right:0;bottom:0;background:black}\r\n",
   "updatePageType": "1",
   "pages": [
      "../index.html"
   ],
   "sourceMapping": {
      "code": {
         "main": "2947c75f0dc4e3a62fc49fa0d640dd8e",
         "option": "88772089c4ab126d28d0f51363f6cf7e",
         "util.touch": "33aa0c9479f3f1018b8fbf1b055c9ce7"
      },
      "template": {
         "template.temp": "798886d72601275eafefae08feae067f"
      },
      "json": {
         "build": "21ff5a275a927b239c3ccb8c0d00b8e8"
      },
      "html": {},
      "text": {},
      "other": {
         "style.main.css": "82d2f23a396c325a09fdd6765042468f",
         "style.main": "743ea0573d703d3349441ed594ad5d4e"
      },
      "image": {},
      "css": {
         "style.main": "85125254d771884ce3ff63dfa7b33bb8"
      },
      "js": {},
      "source": "PICFRAME000006/source.js",
      "build": "PICFRAME000006"
   },
   "source": {
      "css": {
         "style.main": "G:/brooder/cpic/src/style/main.css"
      },
      "js": {},
      "json": {
         "build": "G:/brooder/cpic/src/build.json"
      },
      "template": {
         "template.temp": "G:/brooder/cpic/src/template/temp.html"
      },
      "html": {},
      "text": {},
      "image": {},
      "code": {
         "main": "G:/brooder/cpic/src/main.js",
         "option": "G:/brooder/cpic/src/option.js",
         "util.touch": "G:/brooder/cpic/src/util/touch.js"
      },
      "other": {
         "style.main.css": "G:/brooder/cpic/src/style/main.css.map",
         "style.main": "G:/brooder/cpic/src/style/main.scss"
      },
      "ocss": {}
   },
   "mapping": null
}